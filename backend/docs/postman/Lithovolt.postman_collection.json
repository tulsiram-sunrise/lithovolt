{
  "info": {
    "name": "Lithovolt API",
    "description": "Postman collection for Lithovolt backend API.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8000"
    },
    {
      "key": "access_token",
      "value": ""
    },
    {
      "key": "refresh_token",
      "value": ""
    },
    {
      "key": "serial_number",
      "value": "LV0000000001"
    },
    {
      "key": "warranty_id",
      "value": ""
    },
    {
      "key": "order_id",
      "value": ""
    },
    {
      "key": "claim_id",
      "value": ""
    },
    {
      "key": "user_id",
      "value": ""
    }
  ],
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login (JWT)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/login/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "login",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"admin@example.com\",\n  \"password\": \"admin_password\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const data = pm.response.json();",
                  "if (data && data.access) {",
                  "  pm.collectionVariables.set('access_token', data.access);",
                  "}",
                  "if (data && data.refresh) {",
                  "  pm.collectionVariables.set('refresh_token', data.refresh);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/refresh/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "refresh",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refresh\": \"{{refresh_token}}\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const data = pm.response.json();",
                  "if (data && data.access) {",
                  "  pm.collectionVariables.set('access_token', data.access);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Send OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/otp/send/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "otp",
                "send",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+919999999999\",\n  \"otp_type\": \"LOGIN\"\n}"
            }
          }
        },
        {
          "name": "Verify OTP",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/otp/verify/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "otp",
                "verify",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+919999999999\",\n  \"otp_code\": \"123456\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const data = pm.response.json();",
                  "if (data && data.access) {",
                  "  pm.collectionVariables.set('access_token', data.access);",
                  "}",
                  "if (data && data.refresh) {",
                  "  pm.collectionVariables.set('refresh_token', data.refresh);",
                  "}"
                ]
              }
            }
          ]
        }
        ,
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/register/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "register",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"consumer1@lithovolt.com\",\n  \"phone\": \"+919999999998\",\n  \"first_name\": \"Consumer\",\n  \"last_name\": \"One\",\n  \"password\": \"Consumer@123\",\n  \"password_confirm\": \"Consumer@123\"\n}"
            }
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/logout/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "logout",
                ""
              ]
            }
          }
        },
        {
          "name": "Password Reset Request",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/password-reset/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "password-reset",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"consumer1@lithovolt.com\"\n}"
            }
          }
        },
        {
          "name": "Password Reset Confirm",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/password-reset/confirm/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "password-reset",
                "confirm",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"consumer1@lithovolt.com\",\n  \"otp_code\": \"123456\",\n  \"new_password\": \"NewPass@123\",\n  \"new_password_confirm\": \"NewPass@123\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "Get Me",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/me/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "me",
                ""
              ]
            }
          }
        },
        {
          "name": "List Users (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                ""
              ]
            }
          }
        },
        {
          "name": "Create Wholesaler (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"wholesaler_new@lithovolt.com\",\n  \"password\": \"Wholesaler@123\",\n  \"first_name\": \"Wholesale\",\n  \"last_name\": \"User\",\n  \"role\": \"WHOLESALER\",\n  \"company_name\": \"Lithovolt Distributors\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const data = pm.response.json();",
                  "if (data && data.id) {",
                  "  pm.collectionVariables.set('user_id', data.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Update Profile",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/update_profile/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "update_profile",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"phone\": \"+919777777777\",\n  \"city\": \"Delhi\"\n}"
            }
          }
        },
        {
          "name": "List Wholesalers",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/wholesalers/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "wholesalers",
                ""
              ]
            }
          }
        },
        {
          "name": "Toggle Active (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/users/{{user_id}}/toggle_active/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "users",
                "{{user_id}}",
                "toggle_active",
                ""
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Inventory",
      "item": [
        {
          "name": "List Battery Models",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/inventory/models/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "inventory",
                "models",
                ""
              ]
            }
          }
        },
        {
          "name": "Create Battery Model",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/inventory/models/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "inventory",
                "models",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Lithovolt 12V 150Ah\",\n  \"sku\": \"LV-12V-150\",\n  \"model_number\": \"LV12-150\",\n  \"capacity_ah\": 150,\n  \"voltage\": 12,\n  \"warranty_months\": 18,\n  \"description\": \"Lead-acid battery\",\n  \"is_active\": true\n}"
            }
          }
        },
        {
          "name": "Generate Serial Numbers",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/inventory/serials/generate/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "inventory",
                "serials",
                "generate",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"battery_model_id\": 1,\n  \"quantity\": 5,\n  \"prefix\": \"LV\"\n}"
            }
          }
        },
        {
          "name": "List Accessories",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/inventory/accessories/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "inventory",
                "accessories",
                ""
              ]
            }
          }
        },
        {
          "name": "Create Accessory",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/inventory/accessories/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "inventory",
                "accessories",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Battery Terminal\",\n  \"sku\": \"LV-ACC-01\",\n  \"description\": \"Accessory\",\n  \"price\": 199.00,\n  \"is_active\": true\n}"
            }
          }
        },
        {
          "name": "List Serial Numbers",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/inventory/serials/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "inventory",
                "serials",
                ""
              ]
            }
          }
        },
        {
          "name": "Create Stock Allocation",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/inventory/allocations/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "inventory",
                "allocations",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"battery_model_id\": 1,\n  \"wholesaler_id\": 2,\n  \"quantity\": 3,\n  \"notes\": \"Initial stock\"\n}"
            }
          }
        },
        {
          "name": "List Stock Allocations",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/inventory/allocations/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "inventory",
                "allocations",
                ""
              ]
            }
          }
        },
        {
          "name": "Low Stock Models",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/inventory/models/low_stock/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "inventory",
                "models",
                "low_stock",
                ""
              ]
            }
          }
        },
        {
          "name": "Notify Low Stock",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/inventory/models/notify_low_stock/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "inventory",
                "models",
                "notify_low_stock",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"threshold\": 2\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Orders",
      "item": [
        {
          "name": "Create Order (Consumer)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "orders",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"notes\": \"Need two items\",\n  \"items\": [\n    {\n      \"product_type\": \"BATTERY_MODEL\",\n      \"battery_model_id\": 1,\n      \"quantity\": 1\n    },\n    {\n      \"product_type\": \"ACCESSORY\",\n      \"accessory_id\": 1,\n      \"quantity\": 2\n    }\n  ]\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const data = pm.response.json();",
                  "if (data && data.id) {",
                  "  pm.collectionVariables.set('order_id', data.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "List Orders",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "orders",
                ""
              ]
            }
          }
        },
        {
          "name": "Export Orders (CSV)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/export/?status=PENDING",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "orders",
                "export",
                ""
              ],
              "query": [
                {
                  "key": "status",
                  "value": "PENDING"
                }
              ]
            }
          }
        },
        {
          "name": "Accept Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/{{order_id}}/accept/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "orders",
                "{{order_id}}",
                "accept",
                ""
              ]
            }
          }
        },
        {
          "name": "Reject Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/{{order_id}}/reject/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "orders",
                "{{order_id}}",
                "reject",
                ""
              ]
            }
          }
        },
        {
          "name": "Fulfill Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/{{order_id}}/fulfill/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "orders",
                "{{order_id}}",
                "fulfill",
                ""
              ]
            }
          }
        },
        {
          "name": "Cancel Order",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/orders/{{order_id}}/cancel/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "orders",
                "{{order_id}}",
                "cancel",
                ""
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Notifications",
      "item": [
        {
          "name": "List Notifications",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                ""
              ]
            }
          }
        },
        {
          "name": "Send Notification",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/notifications/send/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "notifications",
                "send",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"channel\": \"EMAIL\",\n  \"recipient_email\": \"customer@test.com\",\n  \"subject\": \"Test Email\",\n  \"message\": \"Hello from Lithovolt\"\n}"
            }
          }
        }
      ]
    },
    {
      "name": "Warranty",
      "item": [
        {
          "name": "List Warranties",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/warranty/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "warranty",
                ""
              ]
            }
          }
        },
        {
          "name": "Issue Warranty (Wholesaler/Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/warranty/issue/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "warranty",
                "issue",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"serial_number\": \"{{serial_number}}\",\n  \"consumer_phone\": \"+919999999999\",\n  \"consumer_first_name\": \"John\",\n  \"consumer_last_name\": \"Doe\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const data = pm.response.json();",
                  "if (data && data.id) {",
                  "  pm.collectionVariables.set('warranty_id', data.id);",
                  "}",
                  "if (data && data.serial) {",
                  "  pm.collectionVariables.set('serial_number', data.serial);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Claim Warranty (Consumer)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/warranty/claim/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "warranty",
                "claim",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"serial_number\": \"{{serial_number}}\",\n  \"consumer_phone\": \"+919888888888\",\n  \"consumer_first_name\": \"Jane\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const data = pm.response.json();",
                  "if (data && data.id) {",
                  "  pm.collectionVariables.set('warranty_id', data.id);",
                  "}",
                  "if (data && data.serial) {",
                  "  pm.collectionVariables.set('serial_number', data.serial);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Verify Warranty (Public)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{base_url}}/api/warranty/verify/{{serial_number}}/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "warranty",
                "verify",
                "{{serial_number}}",
                ""
              ]
            }
          }
        },
        {
          "name": "Download Certificate",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/warranty/{{warranty_id}}/certificate/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "warranty",
                "{{warranty_id}}",
                "certificate",
                ""
              ]
            }
          }
        }
        ,
        {
          "name": "List Warranty Claims (Admin)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/warranty/claims/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "warranty",
                "claims",
                ""
              ]
            }
          }
        },
        {
          "name": "Create Warranty Claim (Consumer)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/warranty/claims/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "warranty",
                "claims",
                ""
              ]
            },
            "body": {
              "mode": "raw",
              "raw": "{\n  \"warranty_number\": \"{{warranty_id}}\",\n  \"description\": \"Defective item\"\n}"
            }
          },
          "event": [
            {
              "listen": "test",
              "script": {
                "type": "text/javascript",
                "exec": [
                  "const data = pm.response.json();",
                  "if (data && data.id) {",
                  "  pm.collectionVariables.set('claim_id', data.id);",
                  "}"
                ]
              }
            }
          ]
        },
        {
          "name": "Approve Claim (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/warranty/claims/{{claim_id}}/approve/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "warranty",
                "claims",
                "{{claim_id}}",
                "approve",
                ""
              ]
            }
          }
        },
        {
          "name": "Reject Claim (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/warranty/claims/{{claim_id}}/reject/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "warranty",
                "claims",
                "{{claim_id}}",
                "reject",
                ""
              ]
            }
          }
        }
        ,
        {
          "name": "Export Warranties (CSV)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/warranty/export/?status=ACTIVE",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "warranty",
                "export",
                ""
              ],
              "query": [
                {
                  "key": "status",
                  "value": "ACTIVE"
                }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Admin",
      "item": [
        {
          "name": "Admin Metrics",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/admin/metrics/",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "metrics",
                ""
              ]
            }
          }
        }
      ]
    }
  ]
}
